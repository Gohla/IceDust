module names-shortcutrel

language icedust2

fixture [[
  module test
  [[...]]
]]

//test Resolve to shortcut [[
//   model
//  
//    entity Node{
//    
//    }
//    
//    relation Node.[[parent]] ? <-> * Node.children {
//      weight : Int
//    }
//  
//  data
//  
//    node1 : Node {}
//    
//  execute
//  
//    node1.[[parent]]
//]] resolve #2 to #1

test Resolve invalid role in shortcut fails [[
   model
  
    entity Node{
    
    }
    
    relation [[Node]].parent ? <-> * Node.children { //string sharing Stratego/NaBL2 issue
      weight : Int
    }
  
  data
  
    node1 : Node {}
    
  execute
  
    [[node1.iDoNotExist]]
]] 5 errors at #1, #2
