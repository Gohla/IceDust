module recursiveavg

model
entity Node{
	value : Int ? = avg( this > parent]Dominates[child .value ) (default)
}
relation Dominates {
	Node * parent
	Node 1 child
}

data
Node n1{
	value = 2
}
Node n2{
	value = 4
}
Node n3{}
Dominates t1{
	parent:n3
	child:n1
}
Dominates t2{
	parent:n3
	child:n2
}

execute
n1.value
n2.value
n3.value