module Model

imports
	Common
	Expressions
	Types
	Operations

templates // entities

	Model.Entity = <
		entity<EntityType> <ID> {
			<Member*;separator="\n">
		}
	>
	EntityType.EntityType = <>
	
	Model.Entity = <
		relation<RelationType> <ID> {
			<Member*;separator="\n">
		}
	>
	RelationType.RelationType = <>

templates // entity members

	Member											= <<Attribute>>
	Member											= <<Role>>
	Member											= <<Shortcut>>
	Member											= <<Operation>>

	Attribute.Attribute 				= <<ID> : <PrimitiveType> <Multiplicity?> <Derivation?>>
	Derivation.Derivation 			= <= <Exp> <DerivationType>>
	DerivationType.DefaultValue	= <(default)>
	DerivationType.Derivation		= <>

	Role.Role										= <<ID> <Multiplicity> <ID?> <Inverse?>>
	Inverse											= <\<- <ID>>

	Shortcut.Shortcut						= <<RoleRef>.<ID> <ID?> \<-\> <ID?> <RoleRef>.<ID>>

templates // specific references
	
	EntityRef.EntityRef 				= <<ID>>
	AttributeRef.AttributeRef   = <<ID>>
	RoleRef.RoleRef							= <<ID>>
